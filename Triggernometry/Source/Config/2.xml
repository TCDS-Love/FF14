<?xml version="1.0"?>
<TriggernometryExport Version="1">
  <ExportedFolder Id="f31c4651-7aed-4ddd-97ce-f79f50c5d3ee" Name="Test1" Enabled="true">
    <Folders />
    <Triggers>
      <Trigger Enabled="true" Name="坐标" Id="890e37fd-1f34-4109-a78b-4f1a86b23770" RegularExpression="//设置地点">
        <Actions>
          <Action OrderNumber="1" ListVariableOp="Set" ListVariableExpressionType="Numeric" ListVariableName="FishCount" ListVariableExpression="0" ListVariableIndex="128" TableVariableOp="Set" TableVariableName="Pos" TableVariableExpression="${_ffxivparty[${_ffxivplayer}].x}" TableVariableX="1" TableVariableY="${tvar:Pos.height}+1" ActionType="TableVariable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="2" ListVariableOp="Set" ListVariableExpressionType="Numeric" ListVariableName="FishCount" ListVariableExpression="0" ListVariableIndex="128" TableVariableOp="Set" TableVariableName="Pos" TableVariableExpression="${_ffxivparty[${_ffxivplayer}].y}" TableVariableX="2" TableVariableY="${tvar:Pos.height}" ActionType="TableVariable" ExecutionDelayExpression="10">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e 坐标${tvar:Pos.height} X:${tvar:Pos[1][${tvar:Pos.height}]} Y:${tvar:Pos[2][${tvar:Pos.height}]}" ActionType="NamedCallback" ExecutionDelayExpression="500">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
        </Actions>
        <Condition Enabled="false" Grouping="Or" />
      </Trigger>
      <Trigger Enabled="true" Name="前进" Id="8fbdf79c-6963-48eb-9301-662691b21dbd" RegularExpression="//前进开始" PrevActions="Interrupt" PeriodRefire="Deny">
        <Actions>
          <Action OrderNumber="1" VariableOp="SetNumeric" VariableName="a" VariableExpression="${tvar:Pos[1][${var:Site}]}-${_ffxivparty[${_ffxivplayer}].x}" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="2" VariableOp="SetNumeric" VariableName="b" VariableExpression="${tvar:Pos[2][${var:Site}]}-${_ffxivparty[${_ffxivplayer}].y}" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="3" VariableOp="SetNumeric" VariableName="c" VariableExpression="distance(${_ffxivparty[${_ffxivplayer}].x},${_ffxivparty[${_ffxivplayer}].y},${tvar:Pos[1][${var:Site}]},${tvar:Pos[2][${var:Site}]})" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="10">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="5" DiskFileOp="ReadCSVIntoTableVariable" DiskFileOpName="https://raw.githubusercontent.com/TCDS-Love/Final-Fantasy-XIV/main/Triggernometry/source/database/Level_Modifiers.csv" DiskFileOpVar="test" KeypressType="WindowMessage" KeyPressCode="37" KeyPressWindow="最终幻想XIV" ListVariableOp="Insert" ListVariableExpressionType="Numeric" ListVariableName="jobattr" ListVariableExpression="${tmp}" ListVariableIndex="1" VariableOp="SetNumeric" VariableName="1" VariableExpression="${numeric:abs(${var:a})}" TableVariableOp="Copy" WmsgTitle="最终幻想XIV" WmsgCode="256" WmsgWparam="87" ActionType="WindowMessage">
            <Condition Enabled="true" Grouping="Or">
              <ConditionGroup Enabled="true" Grouping="And">
                <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}-5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}+5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
              </ConditionGroup>
            </Condition>
          </Action>
          <Action OrderNumber="6" KeypressType="WindowMessage" KeyPressCode="87" KeyPressWindow="最终幻想XIV" ActionType="KeyPress" ExecutionDelayExpression="${var:c}/6*1000">
            <Condition Enabled="true" Grouping="Or">
              <ConditionGroup Enabled="true" Grouping="And">
                <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}-5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}+5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
              </ConditionGroup>
            </Condition>
          </Action>
          <Action OrderNumber="7" TriggerId="6468a549-d289-42df-9c25-b1cc6168657b" ActionType="Trigger">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
        </Actions>
        <Condition Enabled="true" Grouping="Or">
          <ConditionGroup Enabled="true" Grouping="And">
            <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}-5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
            <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}+5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
          </ConditionGroup>
        </Condition>
        <Conditions />
      </Trigger>
      <Trigger Enabled="true" Name="初始化" Id="366dc77c-2b1f-4313-80d5-3de2ec5c3e97" RegularExpression="//初始化">
        <Actions>
          <Action OrderNumber="1" TableVariableName="Pos" ActionType="TableVariable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="2" VariableName="Site" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="3" TriggerOp="CancelTrigger" TriggerId="8fbdf79c-6963-48eb-9301-662691b21dbd" ActionType="Trigger">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="4" TriggerOp="CancelTrigger" TriggerId="6468a549-d289-42df-9c25-b1cc6168657b" ActionType="Trigger">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
        </Actions>
        <Condition Enabled="false" Grouping="Or" />
        <Conditions />
      </Trigger>
      <Trigger Enabled="true" Name="寻路点设置" Id="73cc529b-4555-4f6a-93b0-79415abad2ab" RegularExpression="//寻路点(?&lt;Pos&gt;\d)">
        <Actions>
          <Action OrderNumber="1" VariableOp="SetNumeric" VariableName="Site" VariableExpression="${Pos}" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
        </Actions>
        <Condition Enabled="false" Grouping="Or" />
        <Conditions />
      </Trigger>
      <Trigger Enabled="true" Name="寻路" Id="6468a549-d289-42df-9c25-b1cc6168657b" RegularExpression="//寻路开始" PrevActions="Interrupt" PeriodRefire="Deny">
        <Actions>
          <Action OrderNumber="1" VariableOp="SetNumeric" VariableName="a" VariableExpression="${tvar:Pos[1][${var:Site}]}-${_ffxivparty[${_ffxivplayer}].x}" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="2" VariableOp="SetNumeric" VariableName="b" VariableExpression="${tvar:Pos[2][${var:Site}]}-${_ffxivparty[${_ffxivplayer}].y}" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="3" VariableOp="SetNumeric" VariableName="c" VariableExpression="distance(${_ffxivparty[${_ffxivplayer}].x},${_ffxivparty[${_ffxivplayer}].y},${tvar:Pos[1][${var:Site}]},${tvar:Pos[2][${var:Site}]})" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="10">
            <Condition Enabled="false" Grouping="Or" />
          </Action>
          <Action OrderNumber="5" VariableOp="SetNumeric" VariableName="Test" VariableExpression="${numeric:radtodeg(0-arccos((pow(${var:c}, 2)+pow(abs(${var:a}),2)-pow(abs(${var:b}),2))/(2*${var:c}*abs(${var:a}))))}-90" ActionType="Variable">
            <Condition Enabled="true" Grouping="Or">
              <ConditionGroup Enabled="true" Grouping="And">
                <ConditionSingle Enabled="true" ExpressionL="${var:a}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                <ConditionSingle Enabled="true" ExpressionL="${var:b}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
              </ConditionGroup>
            </Condition>
          </Action>
          <Action OrderNumber="6" VariableOp="SetNumeric" VariableName="Test" VariableExpression="${numeric:radtodeg(arccos((pow(${var:c}, 2)+pow(abs(${var:a}),2)-pow(abs(${var:b}),2))/(2*${var:c}*abs(${var:a}))))}-90" ActionType="Variable">
            <Condition Enabled="true" Grouping="Or">
              <ConditionGroup Enabled="true" Grouping="And">
                <ConditionSingle Enabled="true" ExpressionL="${var:a}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                <ConditionSingle Enabled="true" ExpressionL="${var:b}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
              </ConditionGroup>
            </Condition>
          </Action>
          <Action OrderNumber="7" VariableOp="SetNumeric" VariableName="Test" VariableExpression="${numeric:radtodeg(0-arccos((pow(${var:c}, 2)+pow(abs(${var:a}),2)-pow(abs(${var:b}),2))/(2*${var:c}*abs(${var:a}))))}+90" ActionType="Variable">
            <Condition Enabled="true" Grouping="Or">
              <ConditionGroup Enabled="true" Grouping="And">
                <ConditionSingle Enabled="true" ExpressionL="${var:a}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                <ConditionSingle Enabled="true" ExpressionL="${var:b}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
              </ConditionGroup>
            </Condition>
          </Action>
          <Action OrderNumber="8" VariableOp="SetNumeric" VariableName="Test" VariableExpression="${numeric:radtodeg(arccos((pow(${var:c}, 2)+pow(abs(${var:a}),2)-pow(abs(${var:b}),2))/(2*${var:c}*abs(${var:a}))))}+90" ActionType="Variable">
            <Condition Enabled="true" Grouping="Or">
              <ConditionGroup Enabled="true" Grouping="And">
                <ConditionSingle Enabled="true" ExpressionL="${var:a}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                <ConditionSingle Enabled="true" ExpressionL="${var:b}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
              </ConditionGroup>
            </Condition>
          </Action>
          <Action OrderNumber="9" LoopDelayExpression="100" ActionType="Loop">
            <LoopCondition Enabled="true" Grouping="Or">
              <ConditionGroup Enabled="true" Grouping="Not">
                <ConditionGroup Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}-5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                  <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}+5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                </ConditionGroup>
              </ConditionGroup>
            </LoopCondition>
            <LoopActions>
              <Action OrderNumber="1" KeypressType="WindowMessage" KeyPressCode="87" KeyPressWindow="最终幻想XIV" ActionType="KeyPress">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="2" DiskFileOp="ReadCSVIntoTableVariable" DiskFileOpName="https://raw.githubusercontent.com/TCDS-Love/Final-Fantasy-XIV/main/Triggernometry/source/database/Level_Modifiers.csv" DiskFileOpVar="test" KeypressType="WindowMessage" KeyPressCode="37" KeyPressWindow="最终幻想XIV" ListVariableOp="Insert" ListVariableExpressionType="Numeric" ListVariableName="jobattr" ListVariableExpression="${tmp}" ListVariableIndex="1" VariableOp="SetNumeric" VariableName="1" VariableExpression="${numeric:abs(${var:a})}" TableVariableOp="Copy" ActionType="KeyPress">
                <Condition Enabled="true" Grouping="Or">
                  <ConditionGroup Enabled="true" Grouping="Not">
                    <ConditionGroup Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}-5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                      <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}+5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                    </ConditionGroup>
                  </ConditionGroup>
                </Condition>
              </Action>
              <Action OrderNumber="3" LogMessageText="//寻路ce" LogProcess="True" ActionType="LogMessage">
                <Condition Enabled="true" Grouping="Or">
                  <ConditionGroup Enabled="true" Grouping="And">
                    <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}-5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                    <ConditionSingle Enabled="true" ExpressionL="${numeric:radtodeg(${_ffxivparty[1].heading})}+5" ExpressionTypeL="Numeric" ExpressionR="${var:Test}" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                  </ConditionGroup>
                </Condition>
              </Action>
            </LoopActions>
            <Condition Enabled="false" Grouping="Or" />
          </Action>
        </Actions>
        <Condition Enabled="false" Grouping="Or" />
        <Conditions />
      </Trigger>
    </Triggers>
  </ExportedFolder>
</TriggernometryExport>
